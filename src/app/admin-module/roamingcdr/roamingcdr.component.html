
<div *ngIf="session.islogined()">
<!-- Create a form to generate Roaming CDRs -->
<form [formGroup]="roamingcdr" (ngSubmit)="generateCDRs()">
    <h1>Generate Roaming Call Detail Records (CDRs)</h1>
   
    <label for="n">Enter the number of Roaming CDRs to generate:</label>
    <input type="number" id="n" name="n" formControlName="n" required>
    <br>
   
    <button type="submit" class="btn btn-primary">Generate Roaming CDRs</button>
</form>
<br><br>

<!-- Display Roaming CDRs in a table -->
<table class="table" datatable [dtOptions]="dtoptions" *ngIf="searchlist.length>0">
    <thead>
        <tr>
            <th>Roaming Start Time</th>
            <th>Roaming End Time</th>
            <th>Roaming Location</th>
            <th>Session Duration (Hours)</th>
            <th>Session Duration (Minutes)</th>
            <th>Data Usage (MB)</th>
            <th>Voice Calls</th>
            <th>SMS Sent</th>
            <th>SMS Received</th>
            <th>GPRS Data Usage (MB)</th>
            <th>Service Type</th>
            <th>Call Routing Information</th>
            <th>Roaming Partner</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let cdr of searchlist">
            <td>{{ cdr.roamingStartTime | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
            <td>{{ cdr.roamingEndTime | date: 'yyyy-MM-dd HH:mm:ss' }}</td>
            <td>{{ cdr.roamingLocation }}</td>
            <td>{{ cdr.sessionDurationHours }}</td>
            <td>{{ cdr.sessionDurationMinutes }}</td>
            <td>{{ cdr.dataUsageMB }}</td>
            <td>{{ cdr.voiceCalls }}</td>
            <td>{{ cdr.smsSent }}</td>
            <td>{{ cdr.smsReceived }}</td>
            <td>{{ cdr.gprsDataUsageMB }}</td>
            <td>{{ cdr.serviceType }}</td>
            <td>{{ cdr.callRoutingInformation }}</td>
            <td>{{ cdr.roamingPartner }}</td>
        </tr>
    </tbody>
</table>

<!-- Button to download Roaming CDRs -->
<button (click)="downloadCdr()" class="btn btn-primary">Download Roaming CDRs</button>
</div>
<div *ngIf="!session.islogined()">
    {{navigatetohome()}}
    </div>